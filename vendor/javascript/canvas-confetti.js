var e={};(function main(e,t,a,r){var n=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL);var o=typeof Path2D==="function"&&typeof DOMMatrix==="function";var i=function(){if(!e.OffscreenCanvas)return false;var t=new OffscreenCanvas(1,1);var a=t.getContext("2d");a.fillRect(0,0,1,1);var r=t.transferToImageBitmap();try{a.createPattern(r,"no-repeat")}catch(e){return false}return true}();function noop(){}function promise(a){var r=t.exports.Promise;var n=r!==void 0?r:e.Promise;if(typeof n==="function")return new n(a);a(noop,noop);return null}var s=function(e,t){return{transform:function(a){if(e)return a;if(t.has(a))return t.get(a);var r=new OffscreenCanvas(a.width,a.height);var n=r.getContext("2d");n.drawImage(a,0,0);t.set(a,r);return r},clear:function(){t.clear()}}}(i,new Map);var l=function(){var e=Math.floor(1e3/60);var t,a;var r={};var n=0;if(typeof requestAnimationFrame==="function"&&typeof cancelAnimationFrame==="function"){t=function(t){var a=Math.random();r[a]=requestAnimationFrame((function onFrame(o){if(n===o||n+e-1<o){n=o;delete r[a];t()}else r[a]=requestAnimationFrame(onFrame)}));return a};a=function(e){r[e]&&cancelAnimationFrame(r[e])}}else{t=function(t){return setTimeout(t,e)};a=function(e){return clearTimeout(e)}}return{frame:t,cancel:a}}();var c=function(){var e;var t;var r={};function decorate(e){function execute(t,a){e.postMessage({options:t||{},callback:a})}e.init=function initWorker(t){var a=t.transferControlToOffscreen();e.postMessage({canvas:a},[a])};e.fire=function fireWorker(a,n,o){if(t){execute(a,null);return t}var i=Math.random().toString(36).slice(2);t=promise((function(n){function workerDone(a){if(a.data.callback===i){delete r[i];e.removeEventListener("message",workerDone);t=null;s.clear();o();n()}}e.addEventListener("message",workerDone);execute(a,i);r[i]=workerDone.bind(null,{data:{callback:i}})}));return t};e.reset=function resetWorker(){e.postMessage({reset:true});for(var t in r){r[t]();delete r[t]}}}return function(){if(e)return e;if(!a&&n){var t=["var CONFETTI, SIZE = {}, module = {};","("+main.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{e=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){typeof console!==void 0&&typeof console.warn==="function"?console.warn("ðŸŽŠ Could not load worker",e):null;return null}decorate(e)}return e}}();var f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:false,scalar:1};function convert(e,t){return t?t(e):e}function isOk(e){return!(e===null||e===void 0)}function prop(e,t,a){return convert(e&&isOk(e[t])?e[t]:f[t],a)}function onlyPositiveInt(e){return e<0?0:Math.floor(e)}function randomInt(e,t){return Math.floor(Math.random()*(t-e))+e}function toDecimal(e){return parseInt(e,16)}function colorsToRgb(e){return e.map(hexToRgb)}function hexToRgb(e){var t=String(e).replace(/[^0-9a-f]/gi,"");t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);return{r:toDecimal(t.substring(0,2)),g:toDecimal(t.substring(2,4)),b:toDecimal(t.substring(4,6))}}function getOrigin(e){var t=prop(e,"origin",Object);t.x=prop(t,"x",Number);t.y=prop(t,"y",Number);return t}function setCanvasWindowSize(e){e.width=document.documentElement.clientWidth;e.height=document.documentElement.clientHeight}function setCanvasRectSize(e){var t=e.getBoundingClientRect();e.width=t.width;e.height=t.height}function getCanvas(e){var t=document.createElement("canvas");t.style.position="fixed";t.style.top="0px";t.style.left="0px";t.style.pointerEvents="none";t.style.zIndex=e;return t}function ellipse(e,t,a,r,n,o,i,s,l){e.save();e.translate(t,a);e.rotate(o);e.scale(r,n);e.arc(0,0,1,i,s,l);e.restore()}function randomPhysics(e){var t=e.angle*(Math.PI/180);var a=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:e.startVelocity*.5+Math.random()*e.startVelocity,angle2D:-t+(.5*a-Math.random()*a),tiltAngle:(Math.random()*.5+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:e.gravity*3,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function updateFetti(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift;t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity;t.velocity*=t.decay;if(t.flat){t.wobble=0;t.wobbleX=t.x+10*t.scalar;t.wobbleY=t.y+10*t.scalar;t.tiltSin=0;t.tiltCos=0;t.random=1}else{t.wobble+=t.wobbleSpeed;t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble);t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble);t.tiltAngle+=.1;t.tiltSin=Math.sin(t.tiltAngle);t.tiltCos=Math.cos(t.tiltAngle);t.random=Math.random()+2}var a=t.tick++/t.totalTicks;var r=t.x+t.random*t.tiltCos;var n=t.y+t.random*t.tiltSin;var i=t.wobbleX+t.random*t.tiltCos;var l=t.wobbleY+t.random*t.tiltSin;e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-a)+")";e.beginPath();if(o&&t.shape.type==="path"&&typeof t.shape.path==="string"&&Array.isArray(t.shape.matrix))e.fill(transformPath2D(t.shape.path,t.shape.matrix,t.x,t.y,Math.abs(i-r)*.1,Math.abs(l-n)*.1,Math.PI/10*t.wobble));else if(t.shape.type==="bitmap"){var c=Math.PI/10*t.wobble;var f=Math.abs(i-r)*.1;var h=Math.abs(l-n)*.1;var u=t.shape.bitmap.width*t.scalar;var d=t.shape.bitmap.height*t.scalar;var v=new DOMMatrix([Math.cos(c)*f,Math.sin(c)*f,-Math.sin(c)*h,Math.cos(c)*h,t.x,t.y]);v.multiplySelf(new DOMMatrix(t.shape.matrix));var p=e.createPattern(s.transform(t.shape.bitmap),"no-repeat");p.setTransform(v);e.globalAlpha=1-a;e.fillStyle=p;e.fillRect(t.x-u/2,t.y-d/2,u,d);e.globalAlpha=1}else if(t.shape==="circle")e.ellipse?e.ellipse(t.x,t.y,Math.abs(i-r)*t.ovalScalar,Math.abs(l-n)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):ellipse(e,t.x,t.y,Math.abs(i-r)*t.ovalScalar,Math.abs(l-n)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if(t.shape==="star"){var m=Math.PI/2*3;var g=4*t.scalar;var b=8*t.scalar;var M=t.x;var y=t.y;var w=5;var x=Math.PI/w;while(w--){M=t.x+Math.cos(m)*b;y=t.y+Math.sin(m)*b;e.lineTo(M,y);m+=x;M=t.x+Math.cos(m)*g;y=t.y+Math.sin(m)*g;e.lineTo(M,y);m+=x}}else{e.moveTo(Math.floor(t.x),Math.floor(t.y));e.lineTo(Math.floor(t.wobbleX),Math.floor(n));e.lineTo(Math.floor(i),Math.floor(l));e.lineTo(Math.floor(r),Math.floor(t.wobbleY))}e.closePath();e.fill();return t.tick<t.totalTicks}function animate(e,t,n,o,i){var c=t.slice();var f=e.getContext("2d");var h;var u;var d=promise((function(t){function onDone(){h=u=null;f.clearRect(0,0,o.width,o.height);s.clear();i();t()}function update(){if(a&&!(o.width===r.width&&o.height===r.height)){o.width=e.width=r.width;o.height=e.height=r.height}if(!o.width&&!o.height){n(e);o.width=e.width;o.height=e.height}f.clearRect(0,0,o.width,o.height);c=c.filter((function(e){return updateFetti(f,e)}));c.length?h=l.frame(update):onDone()}h=l.frame(update);u=onDone}));return{addFettis:function(e){c=c.concat(e);return d},canvas:e,promise:d,reset:function(){h&&l.cancel(h);u&&u()}}}function confettiCannon(t,a){var r=!t;var o=!!prop(a||{},"resize");var i=false;var s=prop(a,"disableForReducedMotion",Boolean);var l=n&&!!prop(a||{},"useWorker");var f=l?c():null;var h=r?setCanvasWindowSize:setCanvasRectSize;var u=!(!t||!f)&&!!t.__confetti_initialized;var d=typeof matchMedia==="function"&&matchMedia("(prefers-reduced-motion)").matches;var v;function fireLocal(e,a,r){var n=prop(e,"particleCount",onlyPositiveInt);var o=prop(e,"angle",Number);var i=prop(e,"spread",Number);var s=prop(e,"startVelocity",Number);var l=prop(e,"decay",Number);var c=prop(e,"gravity",Number);var f=prop(e,"drift",Number);var u=prop(e,"colors",colorsToRgb);var d=prop(e,"ticks",Number);var p=prop(e,"shapes");var m=prop(e,"scalar");var g=!!prop(e,"flat");var b=getOrigin(e);var M=n;var y=[];var w=t.width*b.x;var x=t.height*b.y;while(M--)y.push(randomPhysics({x:w,y:x,angle:o,spread:i,startVelocity:s,color:u[M%u.length],shape:p[randomInt(0,p.length)],ticks:d,decay:l,gravity:c,drift:f,scalar:m,flat:g}));if(v)return v.addFettis(y);v=animate(t,y,h,a,r);return v.promise}function fire(a){var n=s||prop(a,"disableForReducedMotion",Boolean);var l=prop(a,"zIndex",Number);if(n&&d)return promise((function(e){e()}));if(r&&v)t=v.canvas;else if(r&&!t){t=getCanvas(l);document.body.appendChild(t)}o&&!u&&h(t);var c={width:t.width,height:t.height};f&&!u&&f.init(t);u=true;f&&(t.__confetti_initialized=true);function onResize(){if(f){var e={getBoundingClientRect:function(){if(!r)return t.getBoundingClientRect()}};h(e);f.postMessage({resize:{width:e.width,height:e.height}})}else c.width=c.height=null}function done(){v=null;if(o){i=false;e.removeEventListener("resize",onResize)}if(r&&t){document.body.removeChild(t);t=null;u=false}}if(o&&!i){i=true;e.addEventListener("resize",onResize,false)}return f?f.fire(a,c,done):fireLocal(a,c,done)}fire.reset=function(){f&&f.reset();v&&v.reset()};return fire}var h;function getDefaultFire(){h||(h=confettiCannon(null,{useWorker:true,resize:true}));return h}function transformPath2D(e,t,a,r,n,o,i){var s=new Path2D(e);var l=new Path2D;l.addPath(s,new DOMMatrix(t));var c=new Path2D;c.addPath(l,new DOMMatrix([Math.cos(i)*n,Math.sin(i)*n,-Math.sin(i)*o,Math.cos(i)*o,a,r]));return c}function shapeFromPath(e){if(!o)throw new Error("path confetti are not supported in this browser");var t,a;if(typeof e==="string")t=e;else{t=e.path;a=e.matrix}var r=new Path2D(t);var n=document.createElement("canvas");var i=n.getContext("2d");if(!a){var s=1e3;var l=s;var c=s;var f=0;var h=0;var u,d;for(var v=0;v<s;v+=2)for(var p=0;p<s;p+=2)if(i.isPointInPath(r,v,p,"nonzero")){l=Math.min(l,v);c=Math.min(c,p);f=Math.max(f,v);h=Math.max(h,p)}u=f-l;d=h-c;var m=10;var g=Math.min(m/u,m/d);a=[g,0,0,g,-Math.round(u/2+l)*g,-Math.round(d/2+c)*g]}return{type:"path",path:t,matrix:a}}function shapeFromText(e){var t,a=1,r="#000000",n='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';if(typeof e==="string")t=e;else{t=e.text;a="scalar"in e?e.scalar:a;n="fontFamily"in e?e.fontFamily:n;r="color"in e?e.color:r}var o=10*a;var i=o+"px "+n;var s=new OffscreenCanvas(o,o);var l=s.getContext("2d");l.font=i;var c=l.measureText(t);var f=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft);var h=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent);var u=2;var d=c.actualBoundingBoxLeft+u;var v=c.actualBoundingBoxAscent+u;f+=u+u;h+=u+u;s=new OffscreenCanvas(f,h);l=s.getContext("2d");l.font=i;l.fillStyle=r;l.fillText(t,d,v);var p=1/a;return{type:"bitmap",bitmap:s.transferToImageBitmap(),matrix:[p,0,0,p,-f*p/2,-h*p/2]}}t.exports=function(){return getDefaultFire().apply(this,arguments)};t.exports.reset=function(){getDefaultFire().reset()};t.exports.create=confettiCannon;t.exports.shapeFromPath=shapeFromPath;t.exports.shapeFromText=shapeFromText})(function(){return typeof window!=="undefined"?window:typeof self!=="undefined"?self:this||{}}(),e,false);var t=e.exports;var a=e.exports.create;export{a as create,t as default};

